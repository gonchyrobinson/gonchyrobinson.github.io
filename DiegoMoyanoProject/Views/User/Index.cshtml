@* @model DiegoMoyanoProject.ViewModels.User.IndexUserViewModel;
<div>
    <h1>
        Listar Usuarios
    </h1>
</div>
<table class="table">
    <thead>
        <tr>
            <th scope="col">Nombre De Usuario</th>
            <th scope="col">Rol</th>
            <th scope="col">Mail</th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var usu in Model.ListOfUsers)
        {
            <tr>
            @if(Model.LoguedUserId == usu.Id){

                <th scope="row">@usu.Username</th>
                <td>@usu.Role</td>
                <td>@usu.Mail</td>
                @if (usu.IsAdminOrUser)
                {
                    <td><button type="button" class="btn btn-warning"><a class="text-decoration-none text-light" href="User/UpdateUser?id=@usu.Id">Modificar</a></button></td>
                    <td><button type="button" class="btn btn-danger"><a class="text-decoration-none text-light" href="User/DeleteUser?id=@usu.Id">Eliminar</a></button></td>
                    <td><button type="button" class="btn btn-success"><a class="text-decoration-none text-light" href="User/ListData?id=@usu.Id">Ver Datos</a></button></td>
                }
                else
                {
                    <td></td>
                    <td></td>
                    <td><button type="button" class="btn btn-success"><a class="text-decoration-none text-light" href="Tablero/ListarTablerosPorUsuario?id=@usu.Id">ListarTableros</a></button></td>
                }
                }

            </tr>
        }

    </tbody>
</table>
@if (Model.IsAdminOROwner)
{
    <div class="d-grid gap-2 mx-auto">
        <a class="btn btn-outline-primary btn-lg px-5 py-3 fs-6 fw-bolder" asp-controller="User" asp-action="CreateUser">Crear Usuario</a>
    </div>
} *@
<div class="container">
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <div class="panel">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col text-center">
                            <h4 class="title">Data <span>List</span></h4>
                        </div>
                        @* <div class="col-sm-9 col-xs-12 text-right">

                        <div class="btn_group">
                        <input type="text" class="form-control" placeholder="Search
                        <button class="btn btn-default" title="Reload">
                        <i class="fa fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-default" title="Pdf"><i class="fa fa-file-pdf"></i></button>
                        <button class="btn btn-default" title="Excel"><i class="fas fa-file-excel"></i></button>
                        </div>
                        </div> 
                    </div>*@
                </div>
                <div class="panel-body table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nombre De Usuario</th>
                                @* <th>Rol</th> *@
                                <th></th>
                                <th></th>
                                @* <th></th> *@
                                @* <th>Job Title</th>
                                <th>City</th>
                                <th>Action</th> *@
                            </tr>
                        </thead>
                        <tbody>
                            @* <tr>
                            <td>1</td>
                            <td>Vincent Williamson</td>
                            <td>31</td>
                            <td>iOS Developer</td>
                            <td>Sinaai-Waas</td>
                            <td>
                            <ul class="action-list">
                            <li><a href="#" data-tip="edit"><i class="fa fa-edit"></i></a></li>
                            <li><a href="#" data-tip="delete"><i class="fa fa-trash"></i></a></li>
                            </ul>
                            </td>
                            </tr>
                            <tr>
                            <td>2</td>
                            <td>Taylor Reyes</td>
                            <td>22</td>
                            <td>UI/UX Developer</td>
                            <td>Baileux</td>
                            <td>
                            <ul class="action-list">
                            <li><a href="#" data-tip="edit"><i class="fa fa-edit"></i></a></li>
                            <li><a href="#" data-tip="delete"><i class="fa fa-trash"></i></a></li>
                            </ul>
                            </td>
                            </tr>
                            <tr>
                            <td>3</td>
                            <td>Justin Block</td>
                            <td>26</td>
                            <td>Frontend Developer</td>
                            <td>Overland Park</td>
                            <td>
                            <ul class="action-list">
                            <li><a href="#" data-tip="edit"><i class="fa fa-edit"></i></a></li>
                            <li><a href="#" data-tip="delete"><i class="fa fa-trash"></i></a></li>
                            </ul>
                            </td>
                            </tr>
                            <tr>
                            <td>4</td>
                            <td>Sean Guzman</td>
                            <td>26</td>
                            <td>Web Designer</td>
                            <td>Gloucester</td>
                            <td>
                            <ul class="action-list">
                            <li><a href="#" data-tip="edit"><i class="fa fa-edit"></i></a></li>
                            <li><a href="#" data-tip="delete"><i class="fa fa-trash"></i></a></li>
                            </ul>
                            </td>
                            </tr>
                            <tr>
                            <td>5</td>
                            <td>Keith Carter</td>
                            <td>20</td>
                            <td>Graphic Designer</td>
                            <td>Oud-Turnhout</td>
                            <td>
                            <ul class="action-list">
                            <li><a href="#" data-tip="edit"><i class="fa fa-edit"></i></a></li>
                            <li><a href="#" data-tip="delete"><i class="fa fa-trash"></i></a></li>
                            </ul>
                            </td>
                            </tr> *@
                            @foreach (var usu in Model.ListOfUsers)
                            {
                                <tr>
                                    @if (Model.LoguedUserId == usu.Id || Model.IsAdminOROwner)
                                    {
                                        <td>@usu.Username</td>
                                        @* <td>@usu.Role</td> *@
                                        @if (Model.IsAdminOROwner)
                                        {
                                            <td>
                                                <ul class="action-list">
                                                    <li><a asp-controller="User" asp-action="UpdateUser" asp-route-id="@usu.Id" data-tip="edit"><i class="fa fa-edit" aria-hidden="true"></i></a></li>
                                                    <li><a asp-controller="User" asp-action="DeleteUser" asp-route-id="@usu.Id" data-tip="delete"><i class="fa fa-trash" aria-hidden="true"></i></a></li>
                                                </ul>
                                            </td>
                                            <td><button type="button" class="btn btn-success"><a class="text-decoration-none text-light" asp-controller="User" asp-action="ViewData" asp-route-id="@usu.Id">Ver datos</a></button></td>
                                        }
                                        else
                                        {
                                            <td></td>
                                                <td><button type="button" class="btn btn-success"><a class="text-decoration-none text-light" asp-controller="User" asp-action="ViewData" asp-route-id="@usu.Id">Ver datos</a></button></td>

                                                @* <td><button type="button" class="btn btn-success"><a class="text-decoration-none text-light" href="Tablero/ListarTablerosPorUsuario?id=@usu.Id">ListarTableros</a></button></td> *@
                                        }
                                    }

                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col col-sm-6 col-xs-6"><img src="~/img/User/LogoBlueCheetah.jpeg" alt="Blue Cheetah" class="img-fluid rounded" style="max-height : 50px;"></div>
                        <div class="col col-sm-6 col-xs-6">
                            <img src="~/img/User/LogoFBA.jpeg" alt="FBA" class="img-fluid rounded float-end" style="max-height : 50px;">
                        </div>
                    </div>
                </div>
                @if (Model.IsAdminOROwner)
                {
                    <div class="d-grid gap-2 mx-auto">
                        <a class="btn btn-outline-primary btn-lg px-5 py-3 fs-6 fw-bolder" asp-controller="User" asp-action="CreateUser">Crear Usuario</a>
                    </div>
                }
            </div>
        </div>
    </div>
</div>